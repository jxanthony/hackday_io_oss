<ul class="nav nav-pills">
  <% if @view == 'top' %>
    <li class="active"><a href="#">Top Hacks</a></li>
    <li><%= link_to "Presentation Queue", hacks_path(:view => :presentation) %></li>
  <% elsif @view == 'presentation' %>
    <li><%= link_to "Top Hacks", hacks_path(:view => :top) %></li>
    <li class="active"><a href="#">Presentation Queue</a></li>
  <% end %>
</ul>

<% if @hacks %>
  <% @hacks.each_with_index do |hack, index| %>
    <% if @view == 'top' %>
      <div class="hack-voting">
        <%= link_to image_tag('arrow-up.png'), upvote_hack_path(hack) %>
    	  <span class="votes"><%= hack.votes %></span>
    	  <%= link_to image_tag('arrow-down.png'), downvote_hack_path(hack) %>
      </div>

      <div class="hack-details">
        <h3><%= link_to hack.title, hack %></h3>
        <p><%= truncate(hack.description, :length => 140) %></p>
      </div>
    <% elsif @view == 'presentation' %>
      <div class="hack-voting">
        <%= link_to image_tag('arrow-up.png'), move_up_in_queue_hack_path(hack) %>
        <span class="votes"><%= hack.presentation_index %></span>
        <%= link_to image_tag('arrow-down.png'), move_down_in_queue_hack_path(hack) %>
      </div>

      <div class="hack-details">
        <h3><%= link_to hack.title, hack %></h3>
        <p><%= truncate(hack.description, :length => 140) %></p>
        <% if (current_user.mc? || current_user.admin?) && index == 0 %>
          <p><%= link_to "This presentatino is done", leave_presentation_hack_path(hack, :no_activity => true), :class => "btn btn-small btn-primary" %></p>
        <% end %>
      </div>
    <% end %>
  <% end %>

  <% if @hacks.empty? %>
    <% if @view == 'top' %>
      <p>No hacks yet. Why not add one?</p>
    <% elsif @view == 'presentation' %>
      <p>There's nothing queued up right now.</p>
    <% end %>
  <% end %>

  <div class="pagination">
    <%= will_paginate @hacks %>
  </div>
<% end %>
